<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Homework3B</title>
		<meta charset="utf-8">
		<style>
			body {
				margin: 0px;
				overflow: hidden;
			}
		</style>
	</head>
	<body>

	<div id="container"></div>

    <script src="js/three.js"></script>

    <script id="vertexShader" type="x-shader/x-vertex">
	
	uniform mat4 modelMatrix;
	uniform mat4 viewMatrix;
    uniform mat4 projectionMatrix;
	
    attribute vec3 position;
	attribute vec2 uv;
	attribute vec3 normal;
	
    precision mediump float;
	
	void main() {
		
       	gl_Position = projectionMatrix  * viewMatrix * modelMatrix  * vec4( position, 1.0 );
		
	}
	
	</script>

	<script id="fragmentShader" type="x-shader/x-fragment">
	
	precision mediump float;
	
	uniform vec2 u_resolution;
	
	void main() {
	
		gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
	
	}
	
	</script>
	
	<script>
	
	var container;
	
	var camera, scene, renderer, mesh;
	
	var vs = document.getElementById( 'vertexShader' ).textContent;
	var fs = document.getElementById( 'fragmentShader' ).textContent;

	var mouseX = 0.0;
	var mouseY = 0.0;

	init();
	animate();

	function init() {
		
		container = document.getElementById( 'container' );
		
		var width = window.innerWidth;
		var height = window.innerHeight;
		
		camera = new THREE.OrthographicCamera( width / -2, width / 2, height / 2, height / -2, 0.1, 1000 );
		camera.position.z = 10;
		
		scene = new THREE.Scene();
		
		// geometry
		
		var planeGeometry = new THREE.PlaneGeometry( width, height, 1, 1 );
		
		// material
		
		var material = new THREE.RawShaderMaterial( {

			uniforms: {
			
				u_resolution: { type: "v2", value: new THREE.Vector2(width, height) },
				
			},
			
			vertexShader: vs,
			fragmentShader: fs

		} );
		
		planeMesh = new THREE.Mesh( planeGeometry, material );
		scene.add( planeMesh );
		
		renderer = new THREE.WebGLRenderer();
		renderer.setSize( window.innerWidth, window.innerHeight );
		container.appendChild( renderer.domElement );
		
		window.addEventListener( 'resize', onWindowResize, true );
		
	}

	function onWindowResize( event ) {
		
		camera.aspect = window.innerWidth / window.innerHeight;
		camera.updateProjectionMatrix();
		
		renderer.setSize( window.innerWidth, window.innerHeight );
		mesh.material.uniforms.u_resolution.value = new THREE.Vector2(window.innerWidth, window.innerHeight);
		
	}
	

	function animate() {

		requestAnimationFrame( animate );
		render();

	}

	function render() {

		renderer.render( scene, camera );
	
	}
	
	</script>
	